<div class="container">
  <h2>üõ†Ô∏è –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –∑–∞–≥—Ä—É–∑–∫–∏ –±—Ä–∏–≥–∞–¥</h2>

  <!-- –î–∞—Ç–∞ -->
  <div class="card">
    <h3>üóìÔ∏è –î–∞—Ç–∞ –Ω–∞—á–∞–ª–∞ 3-–º–µ—Å—è—á–Ω–æ–≥–æ –ø–µ—Ä–∏–æ–¥–∞</h3>
    <input type="date" [(ngModel)]="startDate" class="input-date" />
  </div>

  <!-- –ë—Ä–∏–≥–∞–¥—ã -->
  <div class="card">
    <h3>üë∑ –ë—Ä–∏–≥–∞–¥—ã</h3>
    <button (click)="addBrigade()" class="btn">+ –î–æ–±–∞–≤–∏—Ç—å –±—Ä–∏–≥–∞–¥—É</button>
    <table class="excel-table">
      <thead>
      <tr>
        <th>–ù–∞–∑–≤–∞–Ω–∏–µ</th>
        <th>–ß–µ–ª.</th>
        <th>–ß–∞—Å—ã/–º–µ—Å</th>
        <th></th>
      </tr>
      </thead>
      <tbody>
      <tr *ngFor="let b of brigades; let i = index">
        <td><input [(ngModel)]="b.name" /></td>
        <td><input type="number" [(ngModel)]="b.peopleCount" /></td>
        <td><input type="number" [(ngModel)]="b.load" /></td>
        <td><button (click)="deleteBrigade(i)" class="btn btn-danger">üóë</button></td>
      </tr>
      </tbody>
    </table>
  </div>

  <!-- –ò–∑–¥–µ–ª–∏—è -->
  <div class="card">
    <h3>üì¶ –ò–∑–¥–µ–ª–∏—è</h3>
    <button (click)="addProduct()" class="btn">+ –î–æ–±–∞–≤–∏—Ç—å –∏–∑–¥–µ–ª–∏–µ</button>
    <table class="excel-table">
      <thead>
      <tr>
        <th>–ù–∞–∑–≤–∞–Ω–∏–µ</th>
        <th>–°–µ—Ä–∏–π–Ω—ã–π –ø–ª–∞–Ω</th>
        <th>–ù/—Å–µ—Ä–∏–π–Ω—ã–π –ø–ª–∞–Ω</th>
        <th>–°–ª–µ—Å–∞—Ä–∫–∞ (—à—Ç/—á)</th>
        <th *ngFor="let b of brigades" colspan="2">{{ b.name }}</th>
        <th></th>
      </tr>
      <tr>
        <td colspan="4"></td>
        <ng-container *ngFor="let b of brigades">
          <td>—à—Ç/—á</td>
          <td>–ö–≤–∞–ª.</td>
        </ng-container>
        <td></td>
      </tr>
      </thead>
      <tbody>
      <tr *ngFor="let p of products; let i = index">
        <td><input [(ngModel)]="p.name" /></td>
        <td><input type="number" [(ngModel)]="p.serialPlan" /></td>
        <td><input type="number" [(ngModel)]="p.nonSerialPlan" /></td>
        <td><input type="number" [(ngModel)]="p.assemblyRate" /></td>

        <ng-container *ngFor="let b of brigades">
          <td>
            <input
              type="number"
              [(ngModel)]="p.productionRates[b.name]"
            />
          </td>
          <td>
            <input
              type="number"
              [(ngModel)]="p.qualifications[b.name]"
            />
          </td>
        </ng-container>

        <td><button (click)="deleteProduct(i)" class="btn btn-danger">üóë</button></td>
      </tr>
      </tbody>
    </table>
  </div>

  <!-- Alpha -->
  <div class="card">
    <h3>‚öñÔ∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –∫–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç–∞ Œ±</h3>
    <label>
      –í–µ—Å —Ä–∞–≤–Ω–æ–º–µ—Ä–Ω–æ–π –∑–∞–≥—Ä—É–∑–∫–∏ (Œ±):
      <input
        type="number"
        step="0.01"
        min="0.01"
        max="10"
        [(ngModel)]="alpha"
        class="input-number"
      />
    </label>
    <ul style="font-size: 14px; color: #555; margin-top: 0.5em;">
      <li>Œ± &lt; 1 ‚Äî –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç –Ω–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –ø–ª–∞–Ω–∞</li>
      <li>Œ± = 1 ‚Äî —Å–±–∞–ª–∞–Ω—Å–∏—Ä–æ–≤–∞–Ω–æ</li>
      <li>Œ± &gt; 1 ‚Äî –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç –Ω–∞ —Ä–∞–≤–Ω–æ–º–µ—Ä–Ω–æ—Å—Ç—å</li>
    </ul>
  </div>

  <!-- –ö–Ω–æ–ø–∫–∞ -->
  <div style="margin: 1em 0;">
    <button (click)="calculate()" class="btn">üìä –†–∞—Å—Å—á–∏—Ç–∞—Ç—å –≥—Ä–∞—Ñ–∏–∫</button>
  </div>

  <!-- –û—à–∏–±–∫–∞ -->
  <div *ngIf="error" class="error">{{ error }}</div>

  <!-- –†–µ–∑—É–ª—å—Ç–∞—Ç -->
<!--  <div *ngIf="result">-->
<!--    <h3>üìÜ –ó–∞–¥–∞—á–∏ –ø–æ –±—Ä–∏–≥–∞–¥–∞–º</h3>-->
<!--    <div *ngFor="let item of (result['–ø–æ_–±—Ä–∏–≥–∞–¥–∞–º'] | keyvalue)">-->
<!--      <strong>{{ item.key }}</strong>-->
<!--      <table class="excel-table">-->
<!--        <thead>-->
<!--        <tr>-->
<!--          <th>–ò–∑–¥–µ–ª–∏–µ</th>-->
<!--          <th>–¢–∏–ø</th>-->
<!--          <th>–û–±—ä–µ–º (—à—Ç)</th>-->
<!--          <th>–ß–∞—Å—ã</th>-->
<!--        </tr>-->
<!--        </thead>-->
<!--        <tbody>-->
<!--        <tr *ngFor="let t of item.value">-->
<!--          <td>{{ t.product }}</td>-->
<!--          <td>{{ t['—Ç–∏–ø'] }}</td>-->
<!--          <td>{{ t['–æ–±—ä–µ–º'] }}</td>-->
<!--          <td>{{ t['—á–∞—Å—ã'] }}</td>-->
<!--        </tr>-->
<!--        </tbody>-->
<!--      </table>-->
<!--    </div>-->

<!--    <h3>‚è±Ô∏è –ó–∞–≥—Ä—É–∑–∫–∞ –±—Ä–∏–≥–∞–¥</h3>-->
<!--    <table class="excel-table">-->
<!--      <thead>-->
<!--      <tr>-->
<!--        <th>–ë—Ä–∏–≥–∞–¥–∞</th>-->
<!--        <th>–ß–∞—Å—ã</th>-->
<!--        <th>–õ–∏–º–∏—Ç</th>-->
<!--        <th>–ó–∞–≥—Ä—É–∑–∫–∞ (%)</th>-->
<!--      </tr>-->
<!--      </thead>-->
<!--      <tbody>-->
<!--      <tr *ngFor="let item of (result['–∑–∞–≥—Ä—É–∑–∫–∞'] | keyvalue)">-->
<!--        <td>{{ item.key }}</td>-->
<!--        <td>{{ item.value['—á–∞—Å—ã'] }}</td>-->
<!--        <td>{{ item.value['–ª–∏–º–∏—Ç'] }}</td>-->
<!--        <td>{{ item.value['–∑–∞–≥—Ä—É–∑–∫–∞_%'] }}%</td>-->
<!--      </tr>-->
<!--      </tbody>-->
<!--    </table>-->

<!--    <h3>üìâ –í—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –ø–ª–∞–Ω–∞</h3>-->
<!--    <table class="excel-table">-->
<!--      <thead>-->
<!--      <tr>-->
<!--        <th>–ò–∑–¥–µ–ª–∏–µ</th>-->
<!--        <th>–ü–ª–∞–Ω</th>-->
<!--        <th>–§–∞–∫—Ç</th>-->
<!--        <th>–û—Ç–∫–ª–æ–Ω–µ–Ω–∏–µ</th>-->
<!--      </tr>-->
<!--      </thead>-->
<!--      <tbody>-->
<!--      <tr *ngFor="let item of (result['–ø–æ_–ø—Ä–æ–∏–∑–≤–æ–¥—Å—Ç–≤—É'] | keyvalue)">-->
<!--        <td>{{ item.key }}</td>-->
<!--        <td>{{ item.value['–ø–ª–∞–Ω'] }}</td>-->
<!--        <td>{{ item.value['—Ñ–∞–∫—Ç'] }}</td>-->
<!--        <td>{{ item.value['–æ—Ç–∫–ª–æ–Ω–µ–Ω–∏–µ'] }}</td>-->
<!--      </tr>-->
<!--      </tbody>-->
<!--    </table>-->
<!--  </div>-->
</div>
